<div fxLayoutAlign="center" *ngIf="!loading">
    <mat-card fxFlex="100">
        <mat-card-title>Temps Total d'absence : {{totalTime}}</mat-card-title>
        <mat-accordion>
            <mat-expansion-panel *ngFor="let abs of tab">
                <mat-expansion-panel-header>
                    <mat-panel-title>
                        {{abs[1]}}
                    </mat-panel-title>

                    <mat-panel-description>
                        Temps dans ce module: {{abs[2]}} / {{abs[4]}} | (<span *ngIf="abs[5] <= 10" style="color: green">{{abs[5]}}% d'absence(s) non justifiées</span><span *ngIf="abs[5] > 10" style="color: red">{{abs[5]}}% d'absence(s) non justifiées</span>)
                    </mat-panel-description>
                </mat-expansion-panel-header>

            <div fxLayout="row" fxLayoutAlign="center">
                <mat-card fxFlex="30">
                    <mat-card-title>En Etudes ({{getTimeEtu(abs[0])}})</mat-card-title>

                    <mat-card-content>
                        <mat-list *ngFor="let a of abs[3]">
                            <mat-list-item *ngIf="a[5] === 'Etude'">
                                {{a[3]}} de {{a[0]}}, le {{a[1] | date: 'dd/MM/yyyy'}} de {{a[1] | date : 'H:mm'}} à {{a[2] | date : 'H:mm'}}
                            </mat-list-item>
                        </mat-list>
                    </mat-card-content>
                </mat-card>

                <div fxFlex="5"></div>

                <mat-card fxFlex="30">
                    <mat-card-title>Invalidées ({{getTimeInvalid(abs[0])}})</mat-card-title>

                    <mat-card-content>
                        <mat-list *ngFor="let a of abs[3]">
                            <mat-list-item *ngIf="a[5] === 'NonValidee'">
                                {{a[3]}} de {{a[0]}}, le {{a[1] | date: 'dd/MM/yyyy'}} de {{a[1] | date : 'H:mm'}} à {{a[2] | date : 'H:mm'}}
                            </mat-list-item>
                        </mat-list>
                    </mat-card-content>
                </mat-card>

                <div fxFlex="5"></div>

                <mat-card fxFlex="30">
                    <mat-card-title>Validées ({{getTimeValid(abs[0])}})</mat-card-title>

                    <mat-card-content>
                        <mat-list *ngFor="let a of abs[3]">
                            <mat-list-item *ngIf="a[5] === 'Validee'">
                                {{a[3]}} de {{a[0]}}, le {{a[1] | date: 'dd/MM/yyyy'}} de {{a[1] | date : 'H:mm'}} à {{a[2] | date : 'H:mm'}}
                            </mat-list-item>
                        </mat-list>
                    </mat-card-content>
                </mat-card>

            </div>

            </mat-expansion-panel>

        </mat-accordion>
    </mat-card>
</div>
